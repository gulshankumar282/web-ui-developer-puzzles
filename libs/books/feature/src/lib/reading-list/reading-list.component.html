<ng-container
  *ngIf="(readingList$ | async).length > 0; else empty"
  data-testing="reading-list"
>
  <ng-container *ngFor="let b of readingList$ | async">
    <div class="reading-list-card" data-testing="reading-list-item">
      <div class="reading-list-item">
        <div>
          <img class="reading-list-item--cover" [src]="b.coverUrl" />
        </div>
        <div class="reading-list-item--details">
          <strong class="reading-list-item--details--title">{{
            b.title
          }}</strong>
          <div class="reading-list-item--details--author">
            {{ b.authors.join(',') }}
          </div>
          <div class="reading-list-item--details--status">
            <strong>Finished on:</strong> {{ b?.finishedDate | date }}
          </div>
        </div>
        <div>
          <button
            mat-icon-button
            color="warn"
            [attr.aria-label]="'Remove ' + b.title + ' from reading list'"
            (click)="removeFromReadingList(b)"
            data-testing="remove-from-reading-list-button"
          >
            <mat-icon>remove_circle</mat-icon>
          </button>
        </div>
      </div>
      <div class="text-center">
        <button
          mat-flat-button
          color="warn"
          class="reading-list-item--finished"
          (click)="finishReadingBook(b)"
          [disabled]="b.finished"
          data-testing="mark-as-finished-button"
        >
          {{ b.finished ? 'Finished' : 'Mark as Complete' }}
        </button>
      </div>
    </div>
  </ng-container>
</ng-container>
<ng-template #empty>
  <p class="empty">
    You haven't added any books to your reading list yet.
  </p>
</ng-template>